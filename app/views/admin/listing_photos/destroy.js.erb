$('<%= escape_javascript(render('layouts/admin/flash_message')) %>').appendTo('#flash').hide().fadeIn().delay(3000).fadeOut();

<% if resource.destroyed? %>
$('[data-resource-id=<%= resource.id %>]').fadeOut();
<% else %>
$('.<%= resource.class.name.demodulize.downcase %>-collection<%= resource.respond_to?(:collection_id) ? "#collection_#{resource.collection_id}" : '' %> [data-resource-id=<%= resource.id %>]').replaceWith('<%= escape_javascript(render 'collection_item') %>');
<% end %>
