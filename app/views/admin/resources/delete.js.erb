<% page_title = "Delete #{resource.respond_to?(:resource_name) ? resource.resource_name : 'resource'}" %>

$('#myModal').html('<%= escape_javascript(render 'modal_form', page_title: page_title) %>');
$('#myModal').modal('show');

if ($('#myModal [type="radio"]').length > 0) {
    $('#myModal [type="submit"]').prop('disabled', true);
}

$(document).on('change', '#myModal [type="radio"]', function(e) {
    $('#myModal [type="submit"]').prop('disabled', false);
    target = $(e.target);
    if (target.val() == 'destroy') {
        $('#myModal #last-warning').show();
    } else {
        $('#myModal #last-warning').hide();
    }
});
